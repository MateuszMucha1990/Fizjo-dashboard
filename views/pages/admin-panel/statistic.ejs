<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statystyki</title>
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="/css/style-statistic.css">

</head>
<body>
    <%- include('../../partials/sidebar'); -%>
    
    
    <div class="main-content">
      <form action="" method="POST" enctype="multipart/form-data">
        <header>
            <div class="header-title-wrapper"> 
                <label for="menu-toggle">
                        <span class="las la-bars"></span>
                </label>
                <div class="header-title">
                    <h1>Statystyki</h1>
                    <p>Wyświetl statystyki</p><span class="las la-chart-line"></span>
                </div>
            </div>    

            <div class="header-action">
                <button class="btn btn-main">
                    <span class="las la-video"></span>
                    Upload
                </button>
            </div>  
        </header>

        <main>
            <section>
                <div class="statistic_main">
                    <div class="statistic">
                        <div class="statistic-icon">
                            <span class="las la-chart-bar"></span>
                        </div>
                        <div class="statistic-info">
                            <h4>Ilość pacjentów w tym tyg</h4>
                            <h1>5</h1>
                        </div>
                    </div>

                    <div class="statistic">
                        <div class="statistic-icon">
                            <span class="las la-chart-bar"></span>
                        </div>
                        <div class="statistic-info">
                            <h4>Ilość pacjentów w tym miesiącu</h4>
                            <h1>25</h1>
                        </div>
                    </div>

                    <div class="statistic">
                        <div class="statistic-icon">
                            <span class="las la-chart-bar"></span>
                        </div>
                        <div class="statistic-info">
                            <h4>Ilość pacjentów w tym roku</h4>
                            <h1><%-datesInCurrentYear %></h1>
                        </div>
                    </div>
                </div>
            </section>


            <section>
                <div class="block-grid">
                    <div class="revenue-card">
                        <h3 class="section-head">Total Revenue</h3>
                       <div class="rev-content">
                        <img name="image" src="/uploads/<%- form %>" alt="">
                            <div class="rev-info">
                                <% if (username) {%>
                                <h3><%- username %></h3>
                                <%}%>
                                <h1>3m <small>wyświetleń</small></h1>
                            </div>
                            <div class="rev-sum">
                                <h4>Total income</h4>
                                <h2>100tys zł</h2>
                            </div>
                       </div>
                    </div>

                    <div class="graph-card">
                        <h3 class="section-head">Graph</h3>
                        <div class="graph-content">
                            <div class="graph-head">
                                <div class="icons-wrapper">
                                    <div class="icon">
                                      <span class="la la-eye"></span>  
                                    </div>
                                    <div class="icon">
                                      <span class="la la-clock"></span>  
                                    </div>
                                </div>
                                <div class="graph-select">
                                    <select name="" id="">
                                        <option value="">September</option>
                                    </select>
                                </div>
                            </div>
                            <div class="graph-board">
                                <canvas id="revenueChart" ></canvas>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

        </main>
    </form>
    </div>      


    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.js"></script>
   
   
   <script type="module">
        let ctx = document.querySelector("#revenueChart");
       

        let revChart = new Chart(ctx,{
            type: "line",
            data: {
                labels: ["Sept 1","Sept 3","Sept 6","Sept 9","Sept 12","Sept 15","Sept 18","Sept 21","Sept 24","Sept 27","Sept 30"],
                datasets:[
                    {
                    label: "Views",
                    borderColor:"green",
                    borderWidth: "3",
                    backgroundColor:"rgba(235,247,245,0.5)",
                    data:[0,30,60,25,60,25,50,10,50,90,120]
                },
                    {
                    label: "Views",
                    borderColor:"blue",
                    borderWidth: "3",
                    backgroundColor:"rgba(233,238,253,0.5)",
                    data:[0,60,25,100,20,75,30,55,20,60,20]
                },
                ]
            },
            options:{
                responsive:true,
                tooltips: {
                    intersect:false,
                    node: "index"
                }
            }
        })
       
    </script>
 
</body>
</html>